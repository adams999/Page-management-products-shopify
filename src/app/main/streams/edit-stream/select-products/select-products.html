<div class="container-fluid p-5">
  <div class="row content-center">

    <div class="col-md-12  pl-0 text-left">
      <h5> Products</h5>
    </div>
    
    <div class="col-md-12 bg p-0 pl-3 border-style shadow-box">
        <div *ngIf="loader" class="loader-center h-100">
            <loader-spinner></loader-spinner>
          </div>
      <div *ngIf="!loader && storeConnected" class="row description-text pt-4 pb-0">
            <div class="col pl-2" *ngIf="products.length > 0">  Choose products from your Shopify account</div>
            <div class="col"> 
                <form>
              
                    <div class="form-row float-right">
                      <div class=" form-group mb-0 search-form mt-1 mr-3 ">
                          <div class="form-group mb-0 has-feedback">
                              <label for="search" class="sr-only"></label>
                              <input type="text" class="form-control" name="search" id="search"  (keyup)="search($event)" (blur)="filterKeys.search=''" placeholder="">
                                <span class=" form-control-feedback">
                                    <img src="/assets/icons-simustream/search.svg" alt="">
                                </span>
                            </div>
                      </div>
                     </div>
                  </form>
            </div>
      </div>
   
      <div class="height-ch" (scroll)="onElementScroll($event)" id="client">
         
      <!-- <div *ngIf="products.length < 1 && !notSearchResult " class="col-md-12">
            <h4> Connected Successfully.</h4>
            <p>Please publish your products from shopify app and refresh this page.
          </div> -->
        <div *ngIf="!loader && storeConnected" class="row mt-3 ml-2 mr-2" id="grid">
          <div class="col-md-4 pl-0  mb-3" *ngFor="let item of products; let i=index">
            <div class="card" (click)="addProduct(item)" [ngClass]="item.isSelected?'card-selected':''">
              <div class="row no-gutters h-100">
                <div class="col-md-4 h-100">
                  <img src="{{item?.images[0]?.src || item?.imageUrl}}" class="card-img" alt="...">
                </div>
                <div class="col-md-8">
                  <div class="card-body stream-products">
                    <div class="mb-1 ellipsis">
                      <span class="text">{{item.title}}</span>
                    </div>
                    <div>
                      <small class="text-muted"> Brand:</small>
                      <small class="text-muted"> {{item.vendor}}</small>
                    </div>
                    <div>
                      <small class="text-muted"> Price:</small>
                      <small class="text-muted"> ${{item.variants[0].price}}</small>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
   <div *ngIf="!loader && !storeConnected" class="col-md-12 p-4 bg mt-4 border-style store-logo shadow-box">
      <div class="">
        <!-- <img src="/assets/store-logos/shopifyLogo.png" alt=""> -->
        <div *ngIf="errorMessages.account" class="loader-center h-100">{{errorMessages.account}}</div>
        <!-- <div class="text-sign-in mt-4 mb-4">
          <p> {{errorMessages.account}}</p>
        </div> -->
        <!-- <button class="btn btn-sign-in" (click)="signInStroe()">Sign in to Shopify</button> -->
      </div>
    </div>
    <!--  <div *ngIf="signIn && !storeConnected" class="col-md-12 p-4 bg mt-4 border-style store-logo shadow-box">
      <div class="col-md-4">
        <img src="/assets/store-logos/shopifyLogo.png" alt="">

        <div class="form-group mb-4">
          <label for=""></label>
          <input type="text" class="form-control mt-2" [(ngModel)]="storeDetails.storeId" id="storeId" name="storeId"
            placeholder="store-name.myshopify.com">
        </div>
        <button class="btn btn-sign-in" (click)="connectStore()">Connect Store</button>
      </div>
    </div> -->

  </div>
  <div class="row mt-3 mb-3 content-right">
    <button class="btn btn-primary" (click)="associateProducts()">Edit
      Stream <img class="ml-3" src="assets/icons-simustream/Arrow_Right.svg" alt=""></button>
  </div>
  <div class="row mt-3 mb-3 content-left">
    <button class="btn btn-gery-transparent" (click)="cancel()">Cancel</button>
  </div>
</div>
